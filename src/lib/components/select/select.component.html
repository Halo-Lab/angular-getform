<div class="select-title">
  <p>
    {{ question }}
  </p>
  <lib-unvalid-icon
    *ngIf="validate && control?.errors"
    [errors]="control.errors"
    [errorMessages]="errorMessages"
  ></lib-unvalid-icon>
</div>

<div
  class="select-wrapper"
  [ngClass]="[
    isActive ? 'active' : 'hide',
    validate && control.errors ? 'error' : ''
  ]"
  (click)="toggleDropdown()"
>
  <p *ngIf="!!selectTitle">{{ selectTitle }}</p>
  <svg
    width="12"
    height="6"
    viewBox="0 0 12 6"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M1 1L6 5L11 0.999999"
      stroke="#060811"
      stroke-width="1.5"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </svg>
  <div class="dropdown">
    <label
      *ngIf="searchEnabled"
      class="search"
      for="search"
      (click)="searchClickHandle($event)"
    >
      <input
        type="text"
        id="search"
        placeholder="Type in something"
        [formControl]="searchString"
        (input)="searchInputHandle()"
      />
      <svg
        width="16"
        height="16"
        viewBox="0 0 16 16"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M7.27268 0C11.2726 0 14.5454 3.27278 14.5454 7.27305C14.5454 9.01854 13.9273 10.6185 12.909 11.8549L15.7818 14.7278C16.0727 15.0186 16.0727 15.455 15.7818 15.746C15.6363 15.9277 15.4546 16.0005 15.2727 16.0005C15.0909 16.0005 14.909 15.9278 14.7636 15.7823L11.8908 12.9095C10.6181 13.9277 9.0181 14.5459 7.27274 14.5459C3.27278 14.5459 0 11.2731 0 7.27312C-0.00012207 3.27285 3.27278 6.54553e-05 7.27274 6.54553e-05L7.27268 0ZM7.27268 13.0911C10.4728 13.0911 13.0911 10.4729 13.0911 7.27274C13.0909 4.0729 10.4727 1.45467 7.27268 1.45467C4.07252 1.45467 1.4543 4.0729 1.4543 7.27305C1.4543 10.4729 4.07252 13.0911 7.27268 13.0911Z"
          fill="#9B9CA0"
        />
      </svg>
    </label>
    <ul class="options">
      <li
        *ngFor="let option of filteredOptions"
        (click)="changeValue(option)"
        [ngClass]="selectTitle === option ? 'choosen' : ''"
      >
        {{ option }}
      </li>
    </ul>
  </div>
</div>
